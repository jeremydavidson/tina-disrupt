/* eslint-disable no-unused-vars */
import { useTina } from 'tinacms/dist/react';
import { client } from '../tina/__generated__/client';
import { getStaticPropsForTina } from 'tinacms';
import dynamic from 'next/dynamic'; // For dynamic imports

getStaticPropsForTina

// Dynamically import the Filename component
const DynamicFilename = dynamic(() => import('./[filename]'), { ssr: false });

function HomePage({ data, query, variables }) {
  const { data: tinaData } = useTina({
    query,
    variables,
    data,
  });

  if (!tinaData) {
    return <div>Loading...</div>;
  }

  return (
    <div>
      {/* Assuming the Filename component takes props for rendering */}
      <DynamicFilename data={tinaData} /> 
    </div>
  );
}

export const getProps = async ({ params }) => {
  return getStaticPropsForTina({ params: { filename: 'home' } })
}

// function HomePage() {
//   const { data } = useTina({
//     query: `query HomePageQuery { getHomePageDocument { data { title sections { heading content } } } }`,
//   });

//   // Access your homepage data
//   const homePage = data.getHomePageDocument;

//   return (
//     <div>
//       <h1>{homePage?.data?.title}</h1>
//       {/* ...rest of your homepage component using homePage data... */}
//     </div>
//   );
// }

export default HomePage;
